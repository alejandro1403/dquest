<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title >Movies</title>
		<link rel="icon" href="images/logo1.png" type="image/x-icon" />
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<span class="logo" ><img height="300" src="images/cinema.png" alt="" /></span>
						<h1>Python project</h1>
						<p>Projecto de Python</p>
					</header>
				<!-- Main -->
					<div id="main">
						<!-- Content -->
							<section id="content" class="main">
								<!-- Introducción -->	
								<h2><b>Introducción</b></h2>
								<p>Base de datos: <a href="https://www.kaggle.com/datasets/danielgrijalvas/movies/data" target="_blank" style="color: rgb(101, 161, 211)">Kaggle Movie Industry</a></p>
								<p style=text-align:justify> 
								los ingresos en taquilla y las calificaciones de los usuarios. 
								En este proyecto, exploramos cómo se relacionan estas variables para entender mejor qué factores pueden influir en el éxito de una película. 
								Utilizaremos Python para crear visualizaciones que faciliten la interpretación de estos datos, 
								aprovechando la capacidad de las gráficas para proporcionar una comprensión más intuitiva y 
								detallada de las correlaciones en la industria cinematográfica.</p>
								<!-- Valores -->
								<!-- Linea 1 -->
								<h2><b>Preparación del proyecto.</b></h2>
								<p style=text-align:justify>Para comenzar el proyecto, primero se importaron las bibliotecas necesarias: 
									pandas para facilitar el manejo de datos, matplotlib junto con seaborn para graficar estos datos, y numpy, 
									que es útil para manejar números y realizar operaciones matemáticas.</p>
								<pre><code>import pandas as pd
import seaborn as sns
import matplotlib
import numpy as np
import matplotlib.pyplot as plt
plt.style.use('ggplot')
from matplotlib.pyplot import figure
</code></pre>
								<p style=text-align:justify>A continuación, se configuraron los parámetros de tamaño general que se utilizaron para los gráficos, 
								asegurando una visualización coherente y clara de los datos.</p>
								<pre><code>%matplotlib inline
matplotlib.rcParams['figure.figsize'] = (12, 6)</code></pre>
								<p style=text-align:justify>Posteriormente, se cargó el archivo de datos .csv que se va a explorar.</p>
								<pre><code>df = pd.read_csv(path\movies.csv")</code></pre>
								<!-- Linea 2 -->
								<p style=text-align:justify>Finalmente, se utilizó el método df.head para mostrar algunas filas del 
								DataFrame y observar las columnas y el tipo de datos que se utilizaran en el proyecto.</p>
								<pre><code>df.head(5)</code></pre>
								<div class="table-wrapper">
									<table class="dataframe">
										<thead>
										<tr style="text-align: right;">
										<th></th>
										<th>name</th>
										<th>rating</th>
										<th>genre</th>
										<th>year</th>
										<th>released</th>
										<th>score</th>
										<th>votes</th>
										<th>director</th>
										<th>writer</th>
										<th>star</th>
										<th>country</th>
										<th>budget</th>
										<th>gross</th>
										<th>company</th>
										<th>runtime</th>
										</tr>
										</thead>
										<tbody>
										<tr>
										<th>0</th>
										<td>The Shining</td>
										<td>R</td>
										<td>Drama</td>
										<td>1980</td>
										<td>June 13, 1980 (United States)</td>
										<td>8.4</td>
										<td>927000.0</td>
										<td>Stanley Kubrick</td>
										<td>Stephen King</td>
										<td>Jack Nicholson</td>
										<td>United Kingdom</td>
										<td>19000000.0</td>
										<td>46998772.0</td>
										<td>Warner Bros.</td>
										<td>146.0</td>
										</tr>
										<tr>
										<th>1</th>
										<td>The Blue Lagoon</td>
										<td>R</td>
										<td>Adventure</td>
										<td>1980</td>
										<td>July 2, 1980 (United States)</td>
										<td>5.8</td>
										<td>65000.0</td>
										<td>Randal Kleiser</td>
										<td>Henry De Vere Stacpoole</td>
										<td>Brooke Shields</td>
										<td>United States</td>
										<td>4500000.0</td>
										<td>58853106.0</td>
										<td>Columbia Pictures</td>
										<td>104.0</td>
										</tr>
										<tr>
										<th>2</th>
										<td>Star Wars: Episode V - The Empire Strikes Back</td>
										<td>PG</td>
										<td>Action</td>
										<td>1980</td>
										<td>June 20, 1980 (United States)</td>
										<td>8.7</td>
										<td>1200000.0</td>
										<td>Irvin Kershner</td>
										<td>Leigh Brackett</td>
										<td>Mark Hamill</td>
										<td>United States</td>
										<td>18000000.0</td>
										<td>538375067.0</td>
										<td>Lucasfilm</td>
										<td>124.0</td>
										</tr>
										<tr>
										<th>3</th>
										<td>Airplane!</td>
										<td>PG</td>
										<td>Comedy</td>
										<td>1980</td>
										<td>July 2, 1980 (United States)</td>
										<td>7.7</td>
										<td>221000.0</td>
										<td>Jim Abrahams</td>
										<td>Jim Abrahams</td>
										<td>Robert Hays</td>
										<td>United States</td>
										<td>3500000.0</td>
										<td>83453539.0</td>
										<td>Paramount Pictures</td>
										<td>88.0</td>
										</tr>
										<tr>
										<th>4</th>
										<td>Caddyshack</td>
										<td>R</td>
										<td>Comedy</td>
										<td>1980</td>
										<td>July 25, 1980 (United States)</td>
										<td>7.3</td>
										<td>108000.0</td>
										<td>Harold Ramis</td>
										<td>Brian Doyle-Murray</td>
										<td>Chevy Chase</td>
										<td>United States</td>
										<td>6000000.0</td>
										<td>39846344.0</td>
										<td>Orion Pictures</td>
										<td>98.0</td>
										</tr>
										</tbody>
										</table>
								</div>
								<!-- Linea 3 -->
								<br><h2><b>Procesamiento de datos.</b></h2>
								<p style=text-align:justify>Para tener una comprensión clara de los tipos de datos que se iban a utilizar, 
								se verificaron los datatypes exactos de cada columna.</p>
								<pre><code>df.dtypes</code></pre>
								<pre><code>name         object
rating       object
genre        object
year          int64
released     object
score       float64
votes       float64
director     object
writer       object
star         object
country      object
budget      float64
gross       float64
company      object
runtime     float64
dtype: object</code></pre>
								<!-- Linea 4 -->
								<p style=text-align:justify>Se observó que datos como "votes" (cantidad de votos que la película tiene en IMDb), 
								que solo pueden ser enteros (una persona vota o no vota), aparecían como float64. 
								También se revisaron las columnas en busca de valores nulos.</p>
								<pre><code>df.isnull().mean()</code></pre>
								<pre><code>name        0.000000
rating      0.010042
genre       0.000000
year        0.000000
released    0.000261
score       0.000391
votes       0.000391
director    0.000000
writer      0.000391
star        0.000130
country     0.000391
budget      0.283125
gross       0.024648
company     0.002217
runtime     0.000522
dtype: float64</code></pre>
								<!-- Linea 5 -->
								<p style=text-align:justify>Se encontró que "budget" era la columna con más valores nulos, seguida por "gross". 
									Dado que estas variables eran cruciales para el objetivo de exploración de este proyecto, 
									se decidió eliminar las filas con valores nulos y, de paso, los duplicados.</p>
								<pre><code>df = df.dropna()
df.drop_duplicates()</code></pre>
								<p style=text-align:justify>Las columnas "votes", "budget", "gross" y "runtime" tenían un .0 al final de sus valores. 
								Por preferencia personal, se convirtieron estos valores a int64.</p>
								<pre><code>for i in range(len(df.columns)):
	if i in (6,11,12,14):   
		df[df.columns[i]] = df[df.columns[i]].astype("int64")</code></pre>
								<p style=text-align:justify>Finalmente, se organizaron los datos de mayor a menor "gross", manteniendo 
								el DataFrame ordenado para facilitar la visualización posterior.</p>
								<pre><code>df = df.sort_values(by=["gross"], inplace=False, ascending=False)</code></pre>
								<h2><b>Una imagen vale más que mil palabras.</b></h2>
								<h4><b>1. Tendencia de los ingresos brutos en la industria cinematográfica</b></h4>
								<!-- Tendencia -->
								<p style=text-align:justify>Primero, se graficó el promedio de ingresos brutos de las 
								películas por año para observar cómo habían progresado a lo largo del tiempo.</p>
								<pre><code>sns.lineplot(x='year', y='gross', data=df, 
	estimator='average', color="firebrick", 
	marker="o", markersize=4, markerfacecolor="black", 
	errorbar=None)

plt.title('Promedio de ingresos a lo Largo de los Años')
plt.xlabel('Año')
plt.ylabel('Ingresos promedio')
plt.show()</code></pre>
								<!-- Grafico tendencia -->
								<div class="col-12"><span class="image fit"><img src="images/lineplot.png" alt="" /></span></div>
								<!-- Box 1 -->				
								<p style=text-align:justify>Se observó que los ingresos promedio de las películas habían aumentado de manera constante a 
								lo largo de los años, desde 1980 hasta 2020. En estos 40 años, los ingresos mostraron un incremento general, 
								con algunas excepciones de pequeños descensos en ciertos años. 
								En general, se pudo concluir que la industria del cine sigue en crecimiento.</p>	
								<h4><b>2. Genero</b></h4>
								<p style=text-align:justify>Se graficó un diagrama de cajas para analizar cómo se relacionaba el género con el presupuesto destinado a la 
								producción de una película.</p>			 
								<pre><code>sns.boxplot(x='genre', y='budget', data=df, 
	color="orange", fliersize=2)

plt.title('Distribución de Presupuestos por Género')
plt.xlabel('Género')
plt.ylabel('Presupuesto')
plt.xticks(rotation=45)
plt.show()</code></pre>
								<!-- Box 1 plot -->
								<div class="col-12"><span class="image fit"><img src="images/boxplot1.png" alt="" /></span></div>
								<!-- Box 2 -->			
								<p style=text-align:justify>Se observó que las películas animadas suelen ser más caras de producir, 
								con una mediana centrada por encima de todos los géneros. 
								El 50º percentil de las películas animadas estaba entre 50 y 100 millones de presupuesto. Además, 
								el bigote superior del diagrama de cajas era más largo, lo que indicaba una mayor variación hacia 
								presupuestos más altos, con pocos valores atípicos.
								<br>En los géneros de acción, drama, aventura y comedia, se identificó una gran cantidad de valores atípicos, 
								especialmente en el género de acción, donde estos valores estaban muy por encima del presupuesto medio. 
								Esto sugiere que las películas más caras suelen ser del género de acción, seguidas por las de aventura. 
								Las películas western mostraron poca variación y tendieron a gravitar hacia la cota inferior del presupuesto, 
								probablemente debido a que pocas películas se clasifican como western y las que lo fueron eran de bajo presupuesto.</p>		
								</p style=text-align:justify>Posteriormente, se graficó un diagrama de cajas para ver cómo se relacionaban el género 
								con los ingresos de una película.</p>
								<pre><code>sns.boxplot(x='genre', y='gross', data=df, 
	color="brown", fliersize=2)

plt.title('Recaudación Bruta (Gross) por Género')
plt.xlabel('Género')
plt.ylabel('Recaudación Bruta')
plt.xticks(rotation=45)
plt.show()</code></pre>
								<!-- Blox 2 plot -->
								<div class="col-12"><span class="image fit"><img src="images/boxplot2.png" alt="" /></span></div>
								<!-- Distribucion -->
								<p style=text-align:justify>Al observar este gráfico, se notó que los valores del eje Y estaban en 1e9 frente a 1e8 del gráfico anterior, 
								lo que sugiere que en general las películas de todos los géneros generan ganancias.</p>
								<p style=text-align:justify>Las películas familiares eran las que más recaudaban en promedio y en mediana. 
									Aunque las películas de animación tenían los presupuestos más altos, las películas familiares tendían a generar mayores ingresos. 
									Las películas familiares no presentaban valores atípicos, lo que las hacía una apuesta más segura para generar ganancias netas. 
									Por otro lado, las películas de acción presentaban valores atípicos tanto en el presupuesto como en los ingresos, 
									con algunos valores casi diez veces el presupuesto, indicando que aunque más arriesgadas, podrían generar altos ingresos.</p>
								<h4><b>3. Puntuaciónes de películas segun IMDb</b></h4>
								<p style=text-align:justify>Se analizó otro factor del desempeño de una película: la puntuación dada en IMDb. 
								Para ello, se utilizó un histograma para visualizar cómo se distribuían las puntuaciones.</p>
								<pre><code>hist = sns.histplot(df['score'], kde=True, 
	color='darkgoldenrod', stat="count")

hist.lines[0].set_color('red')
plt.title('Distribución de Calificaciones (Ratings)')
plt.xlabel('Calificación')
plt.ylabel('Frecuencia')
plt.show()</code></pre>
								<!-- Distribucion plot -->
								<div class="col-12"><span class="image fit"><img src="images/histplot.png" alt="" /></span></div>
								<p style=text-align:justify>En el histograma, se observó que la mayoría de las películas tenían una calificación entre 6 y 7. 
								En una escala de 1 a 10, se esperaría que los valores gravitaran alrededor de 5, 
								con pocos valores cerca de 1 y 10, indicando que la mayoría de peliculas son mediocres y muy pocas son excelentes o definitivamente malas.
								Sin embargo, no fue el caso aquí. Esto ocurre en muchas estadísticas de calificación; 
								generalmente, las personas no dan calificaciones muy negativas, calificando lo mediocre entre 6 y 7. 
								Esto ha llevado a que una película con una calificación de 6.5, que debería interpretarse como ligeramente por encima de la media (5), 
								sea vista como mediocre.
								<br>También se observó que no había ninguna calificación de 10 ni de 1, lo cual 
								puede atribuirse a la dificultad de considerar algo completamente perfecto (10) o absolutamente malo (1). 
								Además, como la calificación en IMDb es un promedio de calificaciones, con solo otra persona votando un valor 
								diferente, estos extremos se vuelven prácticamente imposibles de alcanzar.</p>
								<!-- Correlations -->
								<h4><b>4. Correlations</b></h4>
								<p style=text-align:justify>Buscamos correlaciones entre los valores numericos</p>
								<pre><code>corr_matrix = df.corr(numeric_only=True)
corr_matrix</code></pre>
								<div>
									<table class="dataframe">
									<thead>
									<tr style="text-align: right;">
									<th></th>
									<th>year</th>
									<th>score</th>
									<th>votes</th>
									<th>budget</th>
									<th>gross</th>
									<th>runtime</th>
									</tr>
									</thead>
									<tbody>
									<tr>
									<th>year</th>
									<td>1.000000</td>
									<td>0.056386</td>
									<td>0.206021</td>
									<td>0.327722</td>
									<td>0.274321</td>
									<td>0.075077</td>
									</tr>
									<tr>
									<th>score</th>
									<td>0.056386</td>
									<td>1.000000</td>
									<td>0.474256</td>
									<td>0.072001</td>
									<td>0.222556</td>
									<td>0.414068</td>
									</tr>
									<tr>
									<th>votes</th>
									<td>0.206021</td>
									<td>0.474256</td>
									<td>1.000000</td>
									<td>0.439675</td>
									<td>0.614751</td>
									<td>0.352303</td>
									</tr>
									<tr>
									<th>budget</th>
									<td>0.327722</td>
									<td>0.072001</td>
									<td>0.439675</td>
									<td>1.000000</td>
									<td>0.740247</td>
									<td>0.318695</td>
									</tr>
									<tr>
									<th>gross</th>
									<td>0.274321</td>
									<td>0.222556</td>
									<td>0.614751</td>
									<td>0.740247</td>
									<td>1.000000</td>
									<td>0.275796</td>
									</tr>
									<tr>
									<th>runtime</th>
									<td>0.075077</td>
									<td>0.414068</td>
									<td>0.352303</td>
									<td>0.318695</td>
									<td>0.275796</td>
									<td>1.000000</td>
									</tr>
									</tbody>
									</table>
								</div>
								<p style=text-align:justify>Para visualizar mejor que valores tienen una alta correlacion se uso un mapa de calor 
								Configuracion de mapa de calor, colores y solo una diagonal</p>
								<pre><code>mask = np.triu(np.ones_like(corr_matrix, dtype=bool))
cmap = sns.diverging_palette(240, 10, as_cmap=True)
sns.heatmap(corr_matrix, annot=True, cmap=cmap, 
	mask=mask, vmax=1, center=0, square=True, linewidths=.5)

plt.title("Matriz de correlación valores numéricos")</code></pre>
								<!-- Correlations plot -->
								<div class="col-12"><span class="image fit"><img src="images/heatmap.png" alt="" /></span></div>
								<p style=text-align:justify>Columnas que se correlacionan filtradas > 0.5 y  1 (evitar redundancias)</p>
								<pre><code>corr_pairs = corr_matrix.unstack()
sorted_pairs = corr_pairs.sort_values()
high_corr = sorted_pairs[(sorted_pairs > 0.5) & (sorted_pairs < 1)]
high_corr</code></pre>
								<pre><code>gross   votes     0.614751
votes   gross     0.614751
budget  gross     0.740247
gross   budget    0.740247
dtype: float64</code></pre>
								<!-- Scatter -->
								<p style=text-align:justify>El presupuesto tiene una correlacion con las ganancias
								Grafico de dispersion budget vs gross
								Con ayuda de seaborn trazamos una línea de regresión</p>
								<pre><code>fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(13, 6))

sns.regplot(x="budget", y="gross", data=df, 
	line_kws={"color": "blue"}, 
	scatter_kws={"color": "firebrick"}, ax=ax1)

ax1.set_title("Presupuesto vs Ingresos brutos")
ax1.set_xlabel("Presupuesto")
ax1.set_ylabel("Ingresos")

sns.regplot(x="votes", y="gross", data=df, 
	line_kws={"color": "firebrick"}, 
	scatter_kws={"color": "blue"}, ax=ax2)

ax2.set_title("# Votos IMDb vs Ingresos brutos")
ax2.set_xlabel("# Votos")
ax2.set_ylabel("Ingresos")

plt.show()</code></pre>
								<!-- Scatter plot-->
								<p style=text-align:justify>Crear dos subplots, uno al lado del otro Gráfico 1: Presupuesto vs Ingresos brutos 
								Gráfico 2: # Votos IMDb vs Ingresos brutos
								</p>
								<div class="col-12"><span class="image fit"><img src="images/scatter.png" alt="" /></span></div>
								<p style=text-align:justify> concluciones</p>
								<p><a href="https://github.com/alejandro1403/dquest/blob/master/projects/movies/MovieProject.ipynb" target="_blank" style="color: rgb(101, 161, 211)">Ver Python Notebook en GitHub</a></p>
								<!-- Final -->
							<div class="flex-container"> 
								<ul class="actions" style=" display: flex; justify-content: space-between;">
									<li><a href="index.html" class="button primary">Atras</a></li>
								</ul>
							</div>
							</section>
					</div>
				<!-- Footer -->
					<footer id="footer">
						<section>
							<h2>Perfil Profesional</h2>
							<p  style=text-align:justify>Analista de Datos con formación en ingeniería de sistemas. Poseo competencias en <b>SQL</b> y <b>Python</b>. 
								Con manejo de bases de datos como <b>Excel</b>, <b>SQL Server</b> y <b>PostgreSQL</b>.
								Además, tengo experiencia en la visualización de datos y creación de dashboards con <b>Tableau</b> y <b>Power BI</b>. 
								</p>
							<!--<ul class="actions">
								<li><a href="generic.html" class="button">Learn More</a></li>
							</ul>-->
						</section>
						<section>
							<h2>Contacto</h2>
							<dl class="alt">
								<dt>Telefono</dt>
								<dd>(+57) 317 8800 090</dd>
								<dt>Email</dt>
								<dd>aoh.alejandro@gmail.com</a></dd>
							</dl>
							<ul class="icons">
								<li><a href="https://www.linkedin.com/in/alejandro-orozco-hurtado/" target="_blank" class="icon brands alt fa-linkedin"><span class="label">linkedin</span></a></li>
								<li><a href="https://github.com/alejandro1403" target="_blank" class="icon brands fa-github alt"><span class="label">GitHub</span></a></li>
							</ul>
						</section>
						<!--<p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>-->
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>